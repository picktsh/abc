<!doctype html>
<html lang="cn">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>圆球错觉</title>
	<style>
		*{ margin: 0; padding: 0; box-sizing: border-box; }
		ul, ol{ list-style: none; }
		#root{
			display: flex; align-items: center; justify-content: center;
			width: 100vw; height: 100vh;
			overflow: hidden;
		}
		.panel-wrap{ position: fixed; top: 0; left: 0; min-width: 100vw; }
		.panel-wrap .panel{ background-color: rgba(50, 50, 50, .1);}
		.panel-wrap .panel .number{width: 50px;}
		.panel-wrap .panel-info{
			width: 150px; height: 100px;
			background-color: rgba(50, 50, 50, .1);
			font-size: 14px;
		}
		.center{}
		.center .circle{
			position: relative;
			display: flex;
			justify-content: center;
			align-items: center;
			width: 300px; height: 300px;
			border-radius: 300px;
			border: 1px solid red;
		}
		.center .circle ul{ position: relative; width: 100%; }
		.center .circle ul li{
			position: absolute; top: 0; left: 0;
			transform-origin: center;
			width: 100%;
		}
		.center .circle ul li .dot{
			position: absolute; top: 0; left: 0; transform: translate(-50%, -50%);
			width: 15px; height: 15px; background-color: #111111;border-radius: 15px;
			animation: 3s slide infinite ease-in-out;
		}
		@keyframes slide{
			0%{ margin-left: 0; }
			50%{ margin-left: 100%; }
			100%{ margin-left: 0; }
		}
	
	</style>

</head>
<body>
<div id="root">
	<div class="panel-wrap">
		<div class="panel">
			<h2>圆球错觉</h2>
			1 ≤ <input class="number" type="number" name="number" v-model="count"> ≤ 48
		</div>
		<ul class="panel-info">
			<li><span class="info-title">黑点数量: </span><span class="info-value">{{number}} </span></li>
			<li><span class="info-title">动画速度: </span><span class="info-value">{{number / 10}}s</span></li>
			<li><span class="info-title">数量范围: </span><span class="info-value">1 ≤ n ≤ 48</span></li>
		</ul>
	</div>
	<div class="center">
		<div class="circle">
			<ul>
				<li v-for="li of number" :style="{transform: `rotateZ(${li * (360 / number)}deg)`}">
					<div class="dot" :style="{'animation-delay': li+'00ms','animation-duration': number*.1 + 's'}"></div>
				</li>
			</ul>
		</div>
	</div>
</div>
<script src="./lib/vue.min.js"></script>
<script>
  new Vue({
    el: '#root',
    data: {
      count: '18',  // 圆球个数,双向绑定需要转成数字类型 1<n<48
      number: 18,  // 圆球个数,双向绑定需要转成数字类型
      duration: 3,  // 黑点的一个动画周期持续时间
    },
    computed: {
      // number () {
      //   return Number(this.count)
      // }
    },
    watch: {
      count (newValue, oldValue) {
        console.log(newValue)
        this.count = newValue <= 0 ? 1 : newValue >= 48 ? 48 : newValue
        this.number = 0
        this.$nextTick(function () {
          this.number = Number(newValue)
        })
      }
    },
  })
</script>
</body>
</html>
